services:
  app:
    build:
      context: .
      dockerfile: Dockerfile
    restart: unless-stopped
    ports:
      - "${APP_PORT:-8007}:3000"
    environment:
      DATABASE_URL: ${DATABASE_URL:-postgresql://supabase_admin:otlehjoq@db.3r.agency:33771/content_machine?schema=public}
      NEXTAUTH_URL: ${NEXTAUTH_URL:-http://139.60.161.156:8007}
      NEXTAUTH_SECRET: ${NEXTAUTH_SECRET:-supersecretkey_change_in_production}
      AUTH_TRUST_HOST: "true"
      OPENAI_API_KEY: ${OPENAI_API_KEY:-}
      ANTHROPIC_API_KEY: ${ANTHROPIC_API_KEY:-}
      OPENROUTER_API_KEY: ${OPENROUTER_API_KEY:-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}
      BRIEF_WELCOME_MESSAGE: ${BRIEF_WELCOME_MESSAGE:-–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! üëã –Ø –ø–æ–º–æ–≥—É –≤–∞–º —Å–æ–∑–¥–∞—Ç—å –±—Ä–∏—Ñ –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏. –ü—Ä–∏—à–ª–∏—Ç–µ –º–Ω–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ ‚Äî —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–µ–∫—Å—Ç, –¥–æ–∫—É–º–µ–Ω—Ç (Word, PDF, Excel) –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –º–∞—Ç–µ—Ä–∏–∞–ª. –Ø –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É—é –¥–∞–Ω–Ω—ã–µ –∏ —Å–æ—Å—Ç–∞–≤–ª—é —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±—Ä–∏—Ñ.}
    volumes:
      - uploads_data:/app/uploads

volumes:
  uploads_data:
